# yaml-language-server: $schema=../config/schema.json

metadata:
  name: "HH Two-Section Example"
  description: "Hodgkin-Huxley simulation with soma and axon"
  version: "1.0.0"

environment:
  temperature_celsius: 36.0
  random_seed: 1234
  mechanisms: ["hh"]

model:
  morphology:
    type: "multi_section"
    sections:
      soma:
        L: 20
        diam: 20
        nseg: 1
      axon:
        L: 300
        diam: 1
        nseg: 9
    connections:
      - parent: "soma"
        child: "axon"
        parent_loc: 1.0
        child_loc: 0.0

  biophysics:
    soma:
      Ra: 100
      cm: 1
      mechanisms:
        hh:
          gnabar_hh: 0.12
          gkbar_hh: 0.036
          gl_hh: 0.0003
          el_hh: -54.3
    axon:
      Ra: 100
      cm: 1
      mechanisms:
        hh:
          gnabar_hh: 0.12
          gkbar_hh: 0.036
          gl_hh: 0.0003
          el_hh: -54.3

stimuli:
  - name: "soma_stim"
    type: "IClamp"
    section: "soma"
    loc: 0.5
    delay_ms: 10
    duration_ms: 40
    amplitude_nA: 0.1

  - name: "axon_stim"
    type: "IClamp"
    section: "axon"
    loc: 0.5
    delay_ms: 20
    duration_ms: 20
    amplitude_nA: 0.05

recordings:
  - name: "soma_v"
    variable: "v"
    section: "soma"
    loc: 0.5

  - name: "axon_v"
    variable: "v"
    section: "axon"
    loc: 0.5

  - name: "axon_end_v"
    variable: "v"
    section: "axon"
    loc: 1.0

simulation:
  tstop_ms: 60
  dt_ms: 0.025

outputs:
  directory: "results/hh_two_section"
  save_traces:
    format: "csv"
  plot:
    enabled: true
    variables: ["soma_v", "axon_v", "axon_end_v"]
    save_as: "voltage.png"